{% extends "base.html" %}
{% block title %}User Home - JN Records{% endblock %}

{% block content %}
<div style="position: fixed; top: 10px; left: 10px; z-index: 999;">
    <a href="{{ url_for('routes.dashboard') }}"
        style="top: 15px; left: 15px; z-index: 1000;
          background-color: white;
          border: 2px solid black;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          text-decoration: none;
          color: black;"
    title="Return to Dashboard">
    <i class="fas fa-house"></i>
    </a>
  </div>

  <div class="container mt-5">
    <div class="card p-4 mb-4 shadow-sm">
        <h3 class="mb-2">Welcome, {{ user.username }}</h3>
        <p class="mb-1"><strong>Email:</strong> {{ user.email }}</p>
        <p class="mb-0">
            <strong>Password:</strong> ••••••••
            <a href="{{ url_for('routes.change_password') }}" class="btn btn-sm btn-outline-secondary ms-3">Change Password</a>
        </p>
    </div>


    <div class="row">
        <!-- Recently Viewed -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-dark text-white">
                    <strong>Recently Viewed Documents</strong>
                </div>
                <div class="card-body overflow-auto" style="max-height: 300px;">
                    <ul class="list-unstyled">
                        {% for log in viewed %}
                            <li>• {{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }} – {{ log.action }}</li>
                        {% else %}
                            <li>No viewed documents yet.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- Uploaded or Edited -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-dark text-white">
                    <strong>Documents You Uploaded or Edited</strong>
                </div>
                <div class="card-body overflow-auto" style="max-height: 300px;">
                    <ul class="list-unstyled">
                        {% for log in uploads_edits %}
                            <li>• {{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }} – {{ log.action }}</li>
                        {% else %}
                            <li>No uploads or edits yet.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>


</div>
{% endblock %}

